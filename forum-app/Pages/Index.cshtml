@page
@model forum_app.Controllers.IndexModel
@using Microsoft.AspNetCore.Identity;
@inject SignInManager<IdentityUser> SignInManager;

@{
    ViewData["Title"] = "Forum App";
}

<p>
    <a asp-page="AddPost">Create New Post</a>
</p>

@if (Model.PostList.Count > 0) {
    <div class="posts">
        <ul>
            @foreach (var item in Model.PostList) {
                <li>
                    <a asp-page="/ViewPost" asp-route-id="@item.Id" class="post">
                        <h2>@Html.DisplayFor(modelItem => item.Title)</h2>

                        <p>@Html.DisplayFor(modelItem => item.Content)</p>

                        <div class="meta">
                            <p>
                                <strong>Author: </strong>

                                @Html.DisplayFor(modelItem => item.AuthorName)

                                -

                                <span>@Html.DisplayFor(modelItem => item.Date)</span>
                            </p>
                        </div>
                    </a>
                </li>
            }
        </ul>
    </div>
}